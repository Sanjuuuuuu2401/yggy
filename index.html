<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id = "navbar">

    </div>
    <button ><a href="./dashboard.html">Dashboard</a></button>
    <form id = "form" onsubmit="student(event)">
        <input type = "text" id = "name" placeholder="Name"/>
        <input type = "text" id = "course" placeholder="Course"/>
        <input type = "number" id = "unit" placeholder="Unit"/>
        <input type = "url" id = "image" placeholder="Image"/>
        <input type = "text" id = "batch" placeholder="Batch"/>
        <input type = "submit"/>
    </form>
    
</body>
</html>
<script>

    function kaam(n,c,i,b){
        this.name = n;
        this.course = c;
        this.image = i;
        this.batch = `FT-WEB ${b}`
    }

function student(event){
    event.preventDefault()

    let StudentArr = JSON.parse(localStorage.getItem("Students")) || []
    let form = document.getElementById("form")
    let name = form.name.value;
    let course = form.course.value;
    let image = form.image.value;
    let batch = form.batch.value;

    let Student = new kaam(name,course,image,batch)
    StudentArr.push(Student)

    localStorage.setItem("Students",JSON.stringify(StudentArr))


}

function calculate(){
    let StudentArr = JSON.parse(localStorage.getItem("Students")) || []   
    let arr = []
   let obj = {}
    for(let i=0;i<StudentArr.length;i++){
      if(!obj[StudentArr[i].batch]){
        obj[StudentArr[i].batch] = 0;
      }
    }

    for(let i = 0;i<StudentArr.length;i++){
        obj[StudentArr[i].batch]++;
    }
    arr.push(obj)

    document.getElementById('navbar').append(arr)
}

calculate()
</script>